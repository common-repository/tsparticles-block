"use strict";(globalThis.webpackChunkwordpress_particles=globalThis.webpackChunkwordpress_particles||[]).push([[4224],{4224:(t,i,o)=>{o.r(i),o.d(i,{loadOutModesUpdater:()=>p});var e=o(4684),s=o(5302);class n{constructor(t){this.container=t,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(t,i,o,n){if(!this.modes.includes(n))return;const a=this.container;let r=!1;for(const[,e]of a.plugins)if(void 0!==e.particleBounce&&(r=e.particleBounce(t,o,i)),r)break;if(r)return;const c=t.getPosition(),d=t.offset,u=t.getRadius(),p=(0,e.M_)(c,u),l=a.canvas.size;!function(t){if("bounce"!==t.outMode&&"bounce-horizontal"!==t.outMode&&"bounceHorizontal"!==t.outMode&&"split"!==t.outMode)return;t.bounds.right<0?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const i=t.particle.velocity.x;let o=!1;if("right"===t.direction&&t.bounds.right>=t.canvasSize.width&&i>0||"left"===t.direction&&t.bounds.left<=0&&i<0){const i=(0,s.NA)(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-i,o=!0}if(!o)return;const e=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width?t.particle.position.x=t.canvasSize.width-e:t.bounds.left<=0&&(t.particle.position.x=e),"split"===t.outMode&&t.particle.destroy()}({particle:t,outMode:n,direction:i,bounds:p,canvasSize:l,offset:d,size:u}),function(t){if("bounce"!==t.outMode&&"bounce-vertical"!==t.outMode&&"bounceVertical"!==t.outMode&&"split"!==t.outMode)return;t.bounds.bottom<0?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const i=t.particle.velocity.y;let o=!1;if("bottom"===t.direction&&t.bounds.bottom>=t.canvasSize.height&&i>0||"top"===t.direction&&t.bounds.top<=0&&i<0){const i=(0,s.NA)(t.particle.options.bounce.vertical);t.particle.velocity.y*=-i,o=!0}if(!o)return;const e=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height?t.particle.position.y=t.canvasSize.height-e:t.bounds.top<=0&&(t.particle.position.y=e),"split"===t.outMode&&t.particle.destroy()}({particle:t,outMode:n,direction:i,bounds:p,canvasSize:l,offset:d,size:u})}}var a=o(2613);class r{constructor(t){this.container=t,this.modes=["destroy"]}update(t,i,o,n){if(!this.modes.includes(n))return;const r=this.container;switch(t.outType){case"normal":case"outside":if((0,e.Ac)(t.position,r.canvas.size,a.O.origin,t.getRadius(),i))return;break;case"inside":{const{dx:i,dy:o}=(0,s.oW)(t.position,t.moveCenter),{x:e,y:n}=t.velocity;if(e<0&&i>t.moveCenter.radius||n<0&&o>t.moveCenter.radius||e>=0&&i<-t.moveCenter.radius||n>=0&&o<-t.moveCenter.radius)return;break}}r.particles.remove(t,void 0,!0)}}class c{constructor(t){this.container=t,this.modes=["none"]}update(t,i,o,s){if(!this.modes.includes(s))return;if(t.options.move.distance.horizontal&&("left"===i||"right"===i)||t.options.move.distance.vertical&&("top"===i||"bottom"===i))return;const n=t.options.move.gravity,r=this.container,c=r.canvas.size,d=t.getRadius();if(n.enable){const o=t.position;(!n.inverse&&o.y>c.height+d&&"bottom"===i||n.inverse&&o.y<-d&&"top"===i)&&r.particles.remove(t)}else{if(t.velocity.y>0&&t.position.y<=c.height+d||t.velocity.y<0&&t.position.y>=-d||t.velocity.x>0&&t.position.x<=c.width+d||t.velocity.x<0&&t.position.x>=-d)return;(0,e.Ac)(t.position,r.canvas.size,a.O.origin,d,i)||r.particles.remove(t)}}}class d{constructor(t){this.container=t,this.modes=["out"]}update(t,i,o,n){if(!this.modes.includes(n))return;const r=this.container;switch(t.outType){case"inside":{const{x:i,y:o}=t.velocity,e=a.O.origin;e.length=t.moveCenter.radius,e.angle=t.velocity.angle+Math.PI,e.addTo(a.O.create(t.moveCenter));const{dx:n,dy:c}=(0,s.oW)(t.position,e);if(i<=0&&n>=0||o<=0&&c>=0||i>=0&&n<=0||o>=0&&c<=0)return;t.position.x=Math.floor((0,s.vd)({min:0,max:r.canvas.size.width})),t.position.y=Math.floor((0,s.vd)({min:0,max:r.canvas.size.height}));const{dx:d,dy:u}=(0,s.oW)(t.position,t.moveCenter);t.direction=Math.atan2(-u,-d),t.velocity.angle=t.direction;break}default:if((0,e.Ac)(t.position,r.canvas.size,a.O.origin,t.getRadius(),i))return;switch(t.outType){case"outside":{t.position.x=Math.floor((0,s.vd)({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.x,t.position.y=Math.floor((0,s.vd)({min:-t.moveCenter.radius,max:t.moveCenter.radius}))+t.moveCenter.y;const{dx:i,dy:o}=(0,s.oW)(t.position,t.moveCenter);t.moveCenter.radius&&(t.direction=Math.atan2(o,i),t.velocity.angle=t.direction);break}case"normal":{const o=t.options.move.warp,n=r.canvas.size,a={bottom:n.height+t.getRadius()+t.offset.y,left:-t.getRadius()-t.offset.x,right:n.width+t.getRadius()+t.offset.x,top:-t.getRadius()-t.offset.y},c=t.getRadius(),d=(0,e.M_)(t.position,c);"right"===i&&d.left>n.width+t.offset.x?(t.position.x=a.left,t.initialPosition.x=t.position.x,o||(t.position.y=(0,s.sZ)()*n.height,t.initialPosition.y=t.position.y)):"left"===i&&d.right<-t.offset.x&&(t.position.x=a.right,t.initialPosition.x=t.position.x,o||(t.position.y=(0,s.sZ)()*n.height,t.initialPosition.y=t.position.y)),"bottom"===i&&d.top>n.height+t.offset.y?(o||(t.position.x=(0,s.sZ)()*n.width,t.initialPosition.x=t.position.x),t.position.y=a.top,t.initialPosition.y=t.position.y):"top"===i&&d.bottom<-t.offset.y&&(o||(t.position.x=(0,s.sZ)()*n.width,t.initialPosition.x=t.position.x),t.position.y=a.bottom,t.initialPosition.y=t.position.y);break}}}}}class u{constructor(t){this.container=t,this._updateOutMode=(t,i,o,e)=>{for(const s of this.updaters)s.update(t,e,i,o)},this.updaters=[new n(t),new r(t),new d(t),new c(t)]}init(){}isEnabled(t){return!t.destroyed&&!t.spawning}update(t,i){const o=t.options.move.outModes;this._updateOutMode(t,i,o.bottom??o.default,"bottom"),this._updateOutMode(t,i,o.left??o.default,"left"),this._updateOutMode(t,i,o.right??o.default,"right"),this._updateOutMode(t,i,o.top??o.default,"top")}}async function p(t,i=!0){await t.addParticleUpdater("outModes",(t=>new u(t)),i)}}}]);