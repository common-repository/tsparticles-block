"use strict";(globalThis.webpackChunkwordpress_particles=globalThis.webpackChunkwordpress_particles||[]).push([[8095],{3151:(e,i,t)=>{t.d(i,{L:()=>o});class o{constructor(e){this.container=e,this.type="external"}}},8095:(e,i,t)=>{t.r(i),t.d(i,{Bubble:()=>p,BubbleBase:()=>u,BubbleDiv:()=>d,loadExternalBubbleInteraction:()=>f});var o=t(3151),b=t(5302),s=t(8264),l=t(4684),n=t(6720),a=t(9201),c=t(573),r=t(2187);class u{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const i=(0,l.kJ)(this.color)?void 0:this.color;this.color=(0,l.KH)(e.color,(e=>r.O.create(i,e)))}void 0!==e.size&&(this.size=e.size)}}}class d extends u{constructor(){super(),this.selectors=[]}get ids(){return(0,l.KH)(this.selectors,(e=>e.replace("#","")))}set ids(e){this.selectors=(0,l.KH)(e,(e=>`#${e}`))}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class p extends u{load(e){super.load(e),e&&(this.divs=(0,l.KH)(e.divs,(e=>{const i=new d;return i.load(e),i})))}}function h(e,i,t,o){if(i>=t){const s=e+(i-t)*o;return(0,b.uZ)(s,e,i)}if(i<t){const s=e-(t-i)*o;return(0,b.uZ)(s,i,e)}}class v extends o.L{constructor(e){super(e),this._clickBubble=()=>{const e=this.container,i=e.actualOptions,t=e.interactivity.mouse.clickPosition,o=i.interactivity.modes.bubble;if(!o||!t)return;e.bubble||(e.bubble={});const s=e.retina.bubbleModeDistance;if(!s||s<0)return;const l=e.particles.quadTree.queryCircle(t,s,(e=>this.isEnabled(e))),{bubble:n}=e;for(const i of l){if(!n.clicking)continue;i.bubble.inRange=!n.durationEnd;const l=i.getPosition(),a=(0,b.Sp)(l,t),c=((new Date).getTime()-(e.interactivity.mouse.clickTime||0))/1e3;c>o.duration&&(n.durationEnd=!0),c>2*o.duration&&(n.clicking=!1,n.durationEnd=!1);const r={bubbleObj:{optValue:e.retina.bubbleModeSize,value:i.bubble.radius},particlesObj:{optValue:(0,b.KI)(i.options.size.value)*e.retina.pixelRatio,value:i.size.value},type:"size"};this._process(i,a,c,r);const u={bubbleObj:{optValue:o.opacity,value:i.bubble.opacity},particlesObj:{optValue:(0,b.KI)(i.options.opacity.value),value:i.opacity?.value??1},type:"opacity"};this._process(i,a,c,u),!n.durationEnd&&a<=s?this._hoverBubbleColor(i,a):delete i.bubble.color}},this._hoverBubble=()=>{const e=this.container,i=e.interactivity.mouse.position,t=e.retina.bubbleModeDistance;if(!t||t<0||void 0===i)return;const o=e.particles.quadTree.queryCircle(i,t,(e=>this.isEnabled(e)));for(const l of o){l.bubble.inRange=!0;const o=l.getPosition(),n=(0,b.Sp)(o,i),a=1-n/t;n<=t?a>=0&&e.interactivity.status===s.Wt&&(this._hoverBubbleSize(l,a),this._hoverBubbleOpacity(l,a),this._hoverBubbleColor(l,a)):this.reset(l),e.interactivity.status===s.aM&&this.reset(l)}},this._hoverBubbleColor=(e,i,t)=>{const o=this.container.actualOptions,b=t??o.interactivity.modes.bubble;if(b){if(!e.bubble.finalColor){const i=b.color;if(!i)return;const t=(0,l.wA)(i);e.bubble.finalColor=(0,n.lN)(t)}if(e.bubble.finalColor)if(b.mix){e.bubble.color=void 0;const t=e.getFillColor();e.bubble.color=t?(0,n.lC)((0,n.oc)(t,e.bubble.finalColor,1-i,i)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,i,t)=>{const o=this.container.actualOptions,s=t?.opacity??o.interactivity.modes.bubble?.opacity;if(!s)return;const l=e.options.opacity.value,n=h(e.opacity?.value??1,s,(0,b.KI)(l),i);void 0!==n&&(e.bubble.opacity=n)},this._hoverBubbleSize=(e,i,t)=>{const o=this.container,s=t?.size?t.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(void 0===s)return;const l=(0,b.KI)(e.options.size.value)*o.retina.pixelRatio,n=h(e.size.value,s,l,i);void 0!==n&&(e.bubble.radius=n)},this._process=(e,i,t,o)=>{const b=this.container,s=o.bubbleObj.optValue,l=b.actualOptions.interactivity.modes.bubble;if(!l||void 0===s)return;const n=l.duration,a=b.retina.bubbleModeDistance,c=o.particlesObj.optValue,r=o.bubbleObj.value,u=o.particlesObj.value||0,d=o.type;if(a&&!(a<0)&&s!==c)if(b.bubble||(b.bubble={}),b.bubble.durationEnd)r&&("size"===d&&delete e.bubble.radius,"opacity"===d&&delete e.bubble.opacity);else if(i<=a){if((r??u)!==s){const i=u-t*(u-s)/n;"size"===d&&(e.bubble.radius=i),"opacity"===d&&(e.bubble.opacity=i)}}else"size"===d&&delete e.bubble.radius,"opacity"===d&&delete e.bubble.opacity},this._singleSelectorHover=(e,i,t)=>{const o=this.container,b=document.querySelectorAll(i),s=o.actualOptions.interactivity.modes.bubble;s&&b.length&&b.forEach((i=>{const b=i,n=o.retina.pixelRatio,r={x:(b.offsetLeft+b.offsetWidth/2)*n,y:(b.offsetTop+b.offsetHeight/2)*n},u=b.offsetWidth/2*n,d="circle"===t.type?new a.C(r.x,r.y,u):new c.A(b.offsetLeft*n,b.offsetTop*n,b.offsetWidth*n,b.offsetHeight*n),p=o.particles.quadTree.query(d,(e=>this.isEnabled(e)));for(const i of p){if(!d.contains(i.getPosition()))continue;i.bubble.inRange=!0;const t=s.divs,o=(0,l.iC)(t,b);i.bubble.div&&i.bubble.div===b||(this.clear(i,e,!0),i.bubble.div=b),this._hoverBubbleSize(i,1,o),this._hoverBubbleOpacity(i,1,o),this._hoverBubbleColor(i,1,o)}}))},e.bubble||(e.bubble={}),this.handleClickMode=i=>{"bubble"===i&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,i,t){e.bubble.inRange&&!t||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,i=e.actualOptions.interactivity.modes.bubble;i&&(e.retina.bubbleModeDistance=i.distance*e.retina.pixelRatio,void 0!==i.size&&(e.retina.bubbleModeSize=i.size*e.retina.pixelRatio))}async interact(e){const i=this.container.actualOptions.interactivity.events,t=i.onHover,o=i.onClick,b=t.enable,s=t.mode,n=o.enable,a=o.mode,c=i.onDiv;b&&(0,l.dB)("bubble",s)?this._hoverBubble():n&&(0,l.dB)("bubble",a)?this._clickBubble():(0,l.XD)("bubble",c,((i,t)=>this._singleSelectorHover(e,i,t)))}isEnabled(e){const i=this.container,t=i.actualOptions,o=i.interactivity.mouse,b=(e?.interactivity??t.interactivity).events,{onClick:s,onDiv:n,onHover:a}=b,c=(0,l.wm)("bubble",n);return!!(c||a.enable&&o.position||s.enable&&o.clickPosition)&&((0,l.dB)("bubble",a.mode)||(0,l.dB)("bubble",s.mode)||c)}loadModeOptions(e,...i){e.bubble||(e.bubble=new p);for(const t of i)e.bubble.load(t?.bubble)}reset(e){e.bubble.inRange=!1}}async function f(e,i=!0){await e.addInteractor("externalBubble",(e=>new v(e)),i)}}}]);